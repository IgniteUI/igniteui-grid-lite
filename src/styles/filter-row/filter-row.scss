@use '../common' as *;
@use '../themes/light/themes' as *;

$theme: $material;
$filtering-row-background: var-get($theme, 'filtering-row-background');
$filtering-row-text-color: var-get($theme, 'filtering-row-text-color');
$border: var-get($theme, 'header-border-width') var-get($theme, 'header-border-style') var-get($theme, 'header-border-color');

:host {
    display: grid;
    grid-row: filter-row;
    min-height: $ig-cells-min-height;
    background: var-get($theme, 'filtering-row-background');
    color: var-get($theme, 'header-text-color');
	box-shadow: inset 0 rem(-1px) 0 0 var-get($theme, 'header-border-color');
    z-index: var(--z-index-base);
	padding-inline-end: var(--scrollbar-offset);
	position: relative;
	
	&:has([part~='active-state']) {
		box-shadow: 0 rem(1px) 0 0 var-get($theme, 'header-border-color');
		&::after {
			display: block;
			position: absolute;
			content: "";
			background: inherit;
			inset-inline: 0;
			inset-block-start: rem(-1px);
			height: 100%;
			box-shadow: 0 rem(1px) 0 var-get($theme, 'filtering-row-background'), 0 rem(4px) rem(10px) rgb(0 0 0 / 12%);
			z-index: -1;
			pointer-events: none;
			user-select: none;
		}
	}
	
	igc-chip {
		--component-size: var(--ig-size);
		
		// TODO FIX ON COMPONENT LEVEL
		display: inline-flex;
	}
	
	igc-input::part(input) {
		border-inline-start: none;
		padding-inline-start: 0;
	}
	
	igc-input:focus::part(prefix),
	igc-input:focus [slot="prefix"],
	igc-input:focus::part(prefix),
	igc-input:focus [slot="prefix"] {
		border-color: var(--focused-border-color);
	}
	
	igc-input [slot="prefix"] {
		padding-inline-start: sizable(rem(4px), rem(6px));
	}
	
	igc-input [slot="prefix"] {
		padding-inline-end: sizable(rem(4px), rem(6px));;
	}
	
	igc-input [slot="prefix"],
	igc-input [slot="prefix"] {
		cursor: pointer;
	}
	
	igc-input:hover::part(input),
	igc-input:hover::part(prefix),
	igc-input:hover [slot="prefix"],
	igc-input:hover::part(suffix),
	igc-input:hover [slot="suffix"] {
		border-color: var(--hover-border-color);
	}
}

[part='filter-row-preview'] {
    display: flex;
    align-items: center;
    overflow: hidden;
    padding: 0 $ig-cells-padding;
    color: $filtering-row-text-color;
    border-inline-end: $border;
}

[part~='active-state'] {
    background: $filtering-row-background;
    color: $filtering-row-text-color;
    min-height: $ig-cells-min-height;
    min-width: 100%;
    display: flex;
    align-items: center;
    gap: rem(8px);
    position: relative;
}

[part='filter-row-preview']:last-of-type {
    border-inline-end: none;
}

[part~='filter-row-input'] {
    padding-inline-start: $ig-cells-padding;
}

[part~='filter-row-actions'] {
    padding-inline-end: $ig-cells-padding;
	
	igc-icon {
		color: var-get($theme, 'sorted-header-icon-color');
	}
}

[part~='filter-row-input'],
[part~='filter-row-filters'],
[part~='filter-row-actions'] {
    display: flex;
    align-items: center;
}

[part~='filter-row-filters'] {
    flex: 1;
    overflow: hidden;
}
